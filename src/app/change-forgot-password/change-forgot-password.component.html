<div class="container" style="margin-top: 8em; ">
  <form [formGroup]="changePassword" (ngSubmit)="newPass(changePassword)">
    <div class="row"></div>
    <div class="col-xl-6 offset-xl-3 col-md-8 offset-md-2 col-sm-10 offset-sm-1">
      <div class="zal">
        <h1>Zmiana hasła</h1>
        <h5>Podaj nowe hasło:</h5>

        <div class="row">
          <div class="col-md-6">
            <div>
              <h4>Hasło:</h4>
            </div>
          </div>
          <div class="col-md-6">
            <div>
              <input type="password" formControlName="newPassword" class="form-control" [ngClass]="{ 'is-invalid': (p.newPassword.touched || p.newPassword.dirty) && p.newPassword.errors }" />
              <div *ngIf="(p.newPassword.touched || p.newPassword.dirty) && p.newPassword.errors" class="invalid-feedback">
                <div *ngIf="p.newPassword.errors.required">Wpisz nowe hasło</div>
                <div *ngIf="p.newPassword.errors.minlength">Minimalna długość hasła to 8 znaków</div>
                <div *ngIf="p.newPassword.errors.hasNumber">Cyfra</div>
                <div *ngIf="p.newPassword.errors.hasCapitalCase">Duża litera</div>
                <div *ngIf="p.newPassword.errors.hasSmallCase">Mała litera</div>
                <div *ngIf="p.newPassword.errors.hasSpecialCharacters">Znak specjalny</div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div>
              <h4>Powtórz hasło:</h4>
            </div>
          </div>
          <div class="col-md-6">
            <div>
              <input type="password" formControlName="passwordRepeat" class="form-control" [ngClass]="{ 'is-invalid': (p.passwordRepeat.touched || p.passwordRepeat.dirty) && (p.passwordRepeat.errors || changePassword.value.newPassword != changePassword.value.passwordRepeat) }" />
              <div *ngIf="p.passwordRepeat.touched && p.passwordRepeat.errors " class="invalid-feedback">
                <div *ngIf="p.passwordRepeat.errors.required">Należy wpisać hasło ponownie</div>
              </div>
              <div *ngIf="(p.passwordRepeat.touched || p.passwordRepeat.dirty) && changePassword.value.newPassword != changePassword.value.passwordRepeat " class="invalid-feedback">
                Wpisane hasła różnią się od siebie
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-12 ">
            <div>
              <button *ngIf="!(changePassword.value.newPassword != changePassword.value.passwordRepeat ||
              p.newPassword.errors || p.passwordRepeat.errors ); else disabled"
                      type="submit" class=" float-right btn btn-success btn-lg btn-block pot  " >Zmień hasło</button>
              <ng-template #disabled>
                <button  type="submit" class=" float-right btn btn-success btn-lg btn-block pot  " disabled>Zmień hasło</button>
              </ng-template>
            </div>
          </div>
        </div>

      </div>

    </div>

  </form>

</div>
<div style="height: 30px"></div>









